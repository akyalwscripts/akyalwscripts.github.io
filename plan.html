<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plan Lekcji</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #0d1117;
      color: #e6edf3;
      margin: 0;
      padding: 16px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }
    .datetime {
      font-size: 1rem;
      font-weight: 600;
      color: #fff;
      text-align: center;
      margin-bottom: 10px;
    }
    .schedule-box {
      width: 80%;
      background: rgba(255,255,255,0.05);
      border-radius: 12px;
      padding: 14px 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }
    h2 {
      font-size: 1.1rem;
      font-weight: 600;
      margin: 0 0 10px;
      text-align: center;
      color: #fff;
    }
    .days {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-bottom: 10px;
      font-size: 0.8rem;
    }
    .day {
      padding: 3px 7px;
      border-radius: 6px;
      background: rgba(255,255,255,0.07);
      color: #8b949e;
    }
    .day.active {
      background: #238636;
      color: #fff;
      font-weight: 600;
    }
    .card {
      padding: 6px 0;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .card:last-child {
      border-bottom: none;
    }
    .label {
      font-size: 0.75rem;
      color: #8b949e;
      margin-right: 6px;
    }
    .value {
      font-size: 0.95rem;
      font-weight: 600;
    }
    .row {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 3px;
    }
  </style>
</head>
<body>

  <div class="datetime" id="datetime">â€”</div>

  <!-- Stasiek -->
  <div class="schedule-box">
    <h2>ðŸ“˜ Stasiek</h2>
    <div class="days" id="stasiekDays"></div>
    <div class="card">
      <div class="row"><span class="label">Aktualna:</span><span id="stasiekCurrentLesson" class="value">â€”</span></div>
      <div class="row"><span class="label">Sala:</span><span id="stasiekCurrentRoom" class="value">â€”</span></div>
      <div class="row"><span class="label">Godzina:</span><span id="stasiekCurrentTime" class="value">â€”</span></div>
    </div>
    <div class="card">
      <div class="row"><span class="label">NastÄ™pna:</span><span id="stasiekNextLesson" class="value">â€”</span></div>
      <div class="row"><span class="label">Sala:</span><span id="stasiekNextRoom" class="value">â€”</span></div>
      <div class="row"><span class="label">Godzina:</span><span id="stasiekNextTime" class="value">â€”</span></div>
    </div>
  </div>

  <!-- Maja -->
  <div class="schedule-box">
    <h2>ðŸ“— Maja</h2>
    <div class="days" id="majaDays"></div>
    <div class="card">
      <div class="row"><span class="label">Aktualna:</span><span id="majaCurrentLesson" class="value">â€”</span></div>
      <div class="row"><span class="label">Sala:</span><span id="majaCurrentRoom" class="value">â€”</span></div>
      <div class="row"><span class="label">Godzina:</span><span id="majaCurrentTime" class="value">â€”</span></div>
    </div>
    <div class="card">
      <div class="row"><span class="label">NastÄ™pna:</span><span id="majaNextLesson" class="value">â€”</span></div>
      <div class="row"><span class="label">Sala:</span><span id="majaNextRoom" class="value">â€”</span></div>
      <div class="row"><span class="label">Godzina:</span><span id="majaNextTime" class="value">â€”</span></div>
    </div>
  </div>


  <div style="text-align:center; margin-top:20px;">
    <img src="https://cdn.discordapp.com/attachments/1409213475653292144/1412485401049829476/slonce.gif?ex=68b8770a&is=68b7258a&hm=3205fd72f3f26d5cd97ead8755dc496f124e1942416701c4b34a9dd8b4331562&" alt="fun gif" style="max-width:50%; border-radius:12px;"/>
    </div>


  <script>
    const useTestTime = true;  // set false for real clock
    const testHour = 10;
    const testMinute = 40;

    const stasiekTimes = [
      [7,10,7,55],[8,0,8,45],[8,55,9,40],[9,50,10,35],[10,45,11,30],
      [11,40,12,25],[12,45,13,30],[13,40,14,25],[14,35,15,20],
      [15,25,16,10],[16,15,17,0]
    ];
    const majaTimes = [
      [7,30,8,15],[8,25,9,10],[9,20,10,5],[10,10,10,55],[11,0,11,45],
      [12,5,12,50],[12,55,13,40],[13,50,14,35],[14,40,15,25]
    ];

    // Schedules (day: lessons)
    const stasiekSchedule = {
      1:["Fizyka 304","JÄ™zyk Angielski 008","WF Sala Gimnastyczna","Matematyka 204","Programowanie Oprogramowania 113","Programowanie Oprogramowania 113"],
      2:["HIT 307","JÄ™zyk Polski 211","ZajÄ™cia Wychowawcze 213w","JÄ™zyk Angielski 008","Informatyka 111","Geografia 010","Matematyka 202","JÄ™zyk Niemiecki 007"],
      3:["Matematyka 202","Historia 102","Fizyka 307","JÄ™zyk Niemiecki 007","Programowanie aplikacji internetowych 207w","Programowanie aplikacji internetowych 207w"],
      4:["Programowanie baz danych 111","Programowanie baz danych 111","JÄ™zyk Polski 211","Programowanie Obiektowe 108w","Programowanie Obiektowe 108w","Programowanie Aplikacji Desktopowych 204w","Programowanie Aplikacji Desktopowych 204w","Matematyka 204"],
      5:["Matematyka 205","JÄ™zyk Polski 107","Geografia 010","WF Sala Gimnastyczna","WF Sala Gimnastyczna","Programowanie aplikacji internetowych 207w","Programowanie aplikacji internetowych 207w"]
    };

    const majaSchedule = {
      1:["JÄ™zyk Polski 13","JÄ™zyk Polski 13","Angielski 17","Matematyka 16","Chemia 103","Historia 23","WF Sala Gimnastyczna","Francuski 14"],
      2:["Matematyka 23","Historia 203","Geografia 204","Fizyka 114","JÄ™zyk Polski 13"],
      3:["Historia 16","Geografia 204","Polski 13","ZajÄ™cia z wychowawcÄ… 114","Angielski 17","Angielski 17"],
      4:["Matematyka 23","Fizyka 107","Biologia 103","Geografia 204","Polski 13","Informatyka 207","WF Sala gimnastyczna"],
      5:["Francuski 13","WF Sala gimnastyczna","Matematyka 114","Angielski 17","Polski 13","Geografia 204"]
    };

    const weekdays = ["Nd","Pon","Wt","Åšr","Czw","Pt","Sb"];

    function formatTime(h,m){return `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}`;}

    function buildDayLessons(schedule,times,day){
      const lessons=schedule[day]||[];
      let startIndex=0;
      if(schedule===stasiekSchedule){
        if(day===1) startIndex=5;
        if(day===2) startIndex=2;
        if(day===3) startIndex=1;
        if(day===4) startIndex=0;
        if(day===5) startIndex=0;
      } else {
        if(day===1) startIndex=1;
        if(day===2) startIndex=1;
        if(day===3) startIndex=0;
        if(day===4) startIndex=1;
        if(day===5) startIndex=0;
      }
      return lessons.map((lesson,i)=>[...times[startIndex+i],lesson]);
    }

    function updateSchedule(person,schedule,times){
      const now=getNow();
      const day=now.getDay();
      const currentMinutes=now.getHours()*60+now.getMinutes();

      const container=document.getElementById(person+"Days");
      container.innerHTML=weekdays.slice(1,6).map((d,i)=>`<span class="day ${i+1===day?'active':''}">${d}</span>`).join("");

      const detailed=buildDayLessons(schedule,times,day);
      let current=null,next=null;
      for(let i=0;i<detailed.length;i++){
        const [sh,sm,eh,em,lesson]=detailed[i];
        const start=sh*60+sm,end=eh*60+em;
        if(currentMinutes>=start&&currentMinutes<end){current=detailed[i];next=detailed[i+1]||null;break;}
        if(currentMinutes<start){next=detailed[i];break;}
      }

      const [curLesson,curRoom]=current?splitLesson(current[4]):["Brak","â€”"];
      const [nextLesson,nextRoom]=next?splitLesson(next[4]):["Brak","â€”"];

      document.getElementById(`${person}CurrentLesson`).textContent=curLesson;
      document.getElementById(`${person}CurrentRoom`).textContent=curRoom;
      document.getElementById(`${person}CurrentTime`).textContent=current?`${formatTime(current[0],current[1])}â€“${formatTime(current[2],current[3])}`:"â€”";

      document.getElementById(`${person}NextLesson`).textContent=nextLesson;
      document.getElementById(`${person}NextRoom`).textContent=nextRoom;
      document.getElementById(`${person}NextTime`).textContent=next?`${formatTime(next[0],next[1])}â€“${formatTime(next[2],next[3])}`:"â€”";
    }

    function splitLesson(str){
      const parts=str.split(" ");
      return [parts.slice(0,-1).join(" "),parts.slice(-1)[0]];
    }

    function updateDatetime(){
      const now=getNow();
      const options={weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'};
      document.getElementById("datetime").textContent=now.toLocaleDateString('pl-PL',options);
    }

    function updateAll(){
      updateDatetime();
      updateSchedule("stasiek",stasiekSchedule,stasiekTimes);
      updateSchedule("maja",majaSchedule,majaTimes);
    }

    function getNow(){
      if(useTestTime){
        const d=new Date();
        d.setHours(testHour,testMinute,0,0);
        return d;
      }
      return new Date();
    }

    updateAll();
    setInterval(updateAll,60000);
  </script>
</body>
</html>
